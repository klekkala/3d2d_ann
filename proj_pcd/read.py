import pickle
import numpy as np
# Replace 'path_to_pickle_file.pkl' with the actual path to your pickle file
file_path = './extrinsic'
file_p = './extrinsic2'

# Open the pickle file in binary read mode
with open(file_path, 'rb') as file:
    # Load the dictionary from the file
    my_dict = pickle.load(file)

# Print the dictionary to verify its contents
R = my_dict['2023_07_05']['0']['cam1'][:3, :3]
T = my_dict['2023_07_05']['0']['cam1'][:3, 3]
print(R)
print(T)
# my_dict['2023_07_05']['0']['cam1'][:3, :3] = np.array([[0.9992, -0.0407, 0.0060],[0.0057, -0.0083, -0.9999], [0.0407, 0.9991, -0.0081]])
# my_dict['2023_07_05']['0']['cam1'][:3, 3] = np.array([-0.0605, -0.1110, -0.0445])
# my_dict['2023_07_11']['0']['cam2'][:3, :3] = np.array([[0.34608,0.937913,-0.0225631],[-0.0114148,-0.0198244,-0.999787], [-0.938179,0.346251,0.00381982]])
# my_dict['2023_07_11']['0']['cam2'][:3, 3] = np.array([0.0253059, -0.229004, 0.124987])

# my_dict['2023_07_11']['0']['cam3'][:3, :3] = np.array([[-0.8423, -0.5388, -0.0107],[0.0008, 0.0186, -0.9998], [0.5389, -0.8422, -0.0152]])
# my_dict['2023_07_11']['0']['cam3'][:3, 3] = np.array([-0.0216, -0.2129, -0.0261])

# my_dict['2023_07_11']['0']['cam4'][:3, :3] = np.array([[-0.811073,0.584688,0.0148987],[-0.00818858,0.0141307,-0.999884], [-0.584884,-0.811081,-0.0066984]])
# my_dict['2023_07_11']['0']['cam4'][:3, 3] = np.array([-0.0298092, -0.178066, 0.183388])

# my_dict['2023_07_11']['0']['cam5'][:3, :3] = np.array([[0.2434, -0.9696, -0.0240],[-0.0103, 0.0222, -0.9997], [0.9699, 0.2436, -0.0046]])
# my_dict['2023_07_11']['0']['cam5'][:3, 3] = np.array([0.0146, -0.2037, -0.0410])


# my_dict['2023_07_13']['0']['cam2'][:3, :3] = np.array([[0.346767,0.937921,-0.00413047],[0.0157133,-0.0101975,-0.999873], [-0.937863,0.346645,-0.0183]])
# my_dict['2023_07_13']['0']['cam2'][:3, 3] = np.array([0.0175625, -0.128339, 0.129482])

my_dict['2023_07_03']['0']['cam2'][:3, :3] = np.array([[0.35376,0.935058,-0.0219152],[0.0613205,-0.0465529,-0.997081], [-0.933366,0.35137,-0.0738332]])
my_dict['2023_07_03']['0']['cam2'][:3, 3] = np.array([-0.0036002, -0.117811, 0.0933915])



my_dict['2023_07_03']['0']['cam3'][:3, :3] = np.array([[-0.8423, -0.5388, -0.0107],[0.0008, 0.0186, -0.9998], [0.5389, -0.8422, -0.0152]])
my_dict['2023_07_03']['0']['cam3'][:3, 3] = np.array([-0.0216, -0.2129, -0.0261])

my_dict['2023_07_03']['0']['cam4'][:3, :3] = np.array([[-0.775907,0.630588,0.0157385],[-0.00719567,0.0161115,-0.999861], [-0.630806,-0.77589,-0.00798867]])
my_dict['2023_07_03']['0']['cam4'][:3, 3] = np.array([-0.0292139, -0.295582, 0.160816])


# my_dict['2023_07_11']['0']['cam3'][:3, :3] = np.array([[-0.8423, -0.5388, -0.0107],[0.0008, 0.0186, -0.9998], [0.5389, -0.8422, -0.0152]])
# my_dict['2023_07_11']['0']['cam3'][:3, 3] = np.array([-0.0216, -0.2129, -0.0261])

print(my_dict['2023_07_13']['0']['cam2'])
with open(file_p, 'wb') as output_file:
    pickle.dump(my_dict, output_file)
